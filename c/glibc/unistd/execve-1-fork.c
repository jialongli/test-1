#include <unistd.h>
#include <stdio.h>

int main()
{
    char *const argv [] = {
        "-a",
        };
    char *const envp [] = {
        "ROOT=/"
        };

    int pid;
    switch((pid = vfork())) {
        case 0:
            printf("child process.\n");
	        execve("/bin/date", argv, envp);
            printf("child process done.\n");
        break;
            
        case -1:
            printf("fork error.\n");
        break;
        default:
            printf("parent process.\n");
            waitpid(pid, NULL, 0);
            printf("parent wait done.\n");
        break;
    }


    printf("\n\n main done.\n\n");
}
